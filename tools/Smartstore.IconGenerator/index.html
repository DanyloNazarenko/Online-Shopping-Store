<!DOCTYPE html>
<html lang="en">
<head>
	<title>Smartstore SVG Icon Subset Generator</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, viewport-fit=cover, shrink-to-fit=no">
	<link rel="shortcut icon" href="favicon.ico" />
	<link type="text/css" href="styles.css" rel="stylesheet" />
	<script src="icon-generator.js"></script>
	<script src="ui.js"></script>
</head>
	<body>
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none;">
			<!--// UI icons //-->
			<symbol viewBox="0 0 16 16" id="ui_file_upload">
				<path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5" />
				<path d="M7.646 1.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 2.707V11.5a.5.5 0 0 1-1 0V2.707L5.354 4.854a.5.5 0 1 1-.708-.708z" />
			</symbol>
			<symbol viewBox="0 0 16 16" id="ui_file_export">
				<path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5" />
				<path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z" />
			</symbol>
		</svg>
		<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="symbol_reference" style="display:none;"></svg>
		<div id="controls">
			<div class="hidden">
				<input type="file" class="file-input" id="file_remote" accept=".svg" />
				<input type="file" class="file-input" id="file_local" accept=".svg" />
				<input type="file" class="file-input" id="file_subset" accept=".svg" />
			</div>
			<div class="section files">
				<div class="file">
					<label class="btn" tabindex="0" for="file_remote">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ui_file_upload" /></svg>
						Upload remote
					</label>
				</div>
				<div class="file">
					<label class="btn" tabindex="0" for="file_remote">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ui_file_upload" /></svg>
						Upload local
					</label>
				</div>
				<div class="file">
					<label class="btn" tabindex="0" for="file_remote">
						<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ui_file_upload" /></svg>
						Upload subset
					</label>
				</div>
			</div>
			<div class="section buttons">
				<button type="button" class="btn" id="read_files">Read files</button>
				<button type="button" class="btn secondary" id="export_subset" disabled>
					<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><use xlink:href="#ui_file_export" /></svg>
					Export
				</button>
			</div>

			<div class="section filter">
				<input type="text" name="filter" id="filter_text" class="form-control" placeholder="Filter" style="margin-right: 4px" />
				<span style="white-space: nowrap">
					<input type="checkbox" id="filter_new" /><label for="filter_new" style="padding-left: 6px">New</label>
				</span>
				<span style="white-space: nowrap">
					<input type="checkbox" id="filter_used" /><label for="filter_used" style="padding-left: 6px">Used</label>
				</span>
			</div>
		</div>
		<div id="iconContainer"></div>
		
		<div id="dialogBox" class="dialog-overlay hidden">
			<div class="dialog-box">
				<span id="dialogMessage"></span>
				<div class="dialog-actions">
					<button id="closeDialogBtn" class="form-control" onclick="dialogBox.hide();">Close</button>
				</div>
			</div>
		</div>
		
		<script content-type="text/javascript">
			const iconGenerator = new IconGenerator();

            // File input elements.
            const remoteInput = document.getElementById('file_remote');
            const localInput = document.getElementById('file_local');
            const subsetInput = document.getElementById('file_subset');

            // Filter input elements.
            const textFilter = document.getElementById('filter_text');
            const newFilter = document.getElementById('filter_new');
            const usedFilter = document.getElementById('filter_used');

            // Icon container and buttons.
            const iconContainer = document.getElementById('iconContainer');
            const readFilesButton = document.getElementById('read_files');
			const exportButton = document.getElementById('export_subset');

			tryRestoreFiles();
			initUI();
		</script>
	</body>
</html>